<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/style/style.css">
    </head>
    <body>
        
        <!-- code window-->
        <div class="codewindow" id="mydiv">
            <div class="topwindow" id="mydivheader">
                <span class="grey dot">-</span>
                <span class="grey dot"></span>
                <span class="red dot">x</span>
            </div>
            <div class="numberwindow">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div id="infoswindow">
            <span>/* 
                    Quelques infos sur moi <br>
                    Contactez-moi sur aurore.chayrouse@gmail.com
                 */
            </span>   
            </div> 

        </div>
        <!-- particles.js container -->
        <div id="particles-js"></div>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

<script>
  particlesJS.load('particles-js', 'particles.json', () => {
    console.log('particles loaded')
  }) 
  // first the container, second the json, third callback when the json file is loaded correctly
</script>

        <script>

            const initDrag = (el) => {
                let pos1, pos2, pos3, pos4
                document.getElementById("mydivheader").onmousedown = dragElement // onmousedown: quand bouton souris est press
            
                function dragElement(e) {
                    
                    // mouse position at start 
                    pos3 = e.clientX;// Horizontal
                    pos4 = e.clientY // Vertical
            
                    document.onmouseup = () => { // bouton de la souris relaché
                        //document.onmouseup = null
                        document.onmousemove = null
                    }
            
                    document.onmousemove = (e) => {
            
                        // calculate the new cursor position:
                        pos1 = pos3 - e.clientX // old e.clientX - e.clientX
                        pos2 = pos4 - e.clientY
                        pos3 = e.clientX
                        pos4 = e.clientY
                        
                        // set the element's new position:
                        el.style.left = (el.offsetLeft - pos1) + "px" //returns the left position relative to the left side the offsetParent element.
                        // to the left : pos3 - e.clientX < 0. Donc si +pos1, ca va à l'inverse.
                        el.style.top = (el.offsetTop - pos2) + "px"
                        
                    }
                }
            }
            initDrag(document.getElementById("mydiv"))
            </script>


    </body>
</html>